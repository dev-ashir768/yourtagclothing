RewriteEngine On

# Remove .php extension from URLs
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^(.*)$ $1.php [L]

# Allow specific root-level paths
RewriteCond %{REQUEST_URI} !^/(product|who-are-we|bulk-discounts)/?$ [NC]

# Allow access to folders and their contents
RewriteCond %{REQUEST_URI} !^/blank-apparel-accessories-c37029/ [NC]

# Allow access to actual files and directories (CSS, JS, images, etc.)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Redirect everything else to root
RewriteRule ^(.*)$ / [L,R=301]