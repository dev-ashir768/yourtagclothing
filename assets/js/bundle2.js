!function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=function(e){return e&&e.Math==Math&&e},c=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof i&&i)||function(){return this}()||Function("return this")(),u={},s=function(e){try{return!!e()}catch(e){return!0}},l=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),f={},d={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,m=p&&!d.call({1:2},1);f.f=m?function(e){var t=p(this,e);return!!t&&t.enumerable}:d;var w=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},g={}.toString,v=function(e){return g.call(e).slice(8,-1)},b="".split,h=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==v(e)?b.call(e,""):Object(e)}:Object,y=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},S=h,k=y,O=function(e){return S(k(e))},_=function(e){return"object"==typeof e?null!==e:"function"==typeof e},M=_,C=function(e,t){if(!M(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!M(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!M(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!M(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},T=y,j=function(e){return Object(T(e))},N=j,P={}.hasOwnProperty,x=Object.hasOwn||function(e,t){return P.call(N(e),t)},A=_,E=c.document,I=A(E)&&A(E.createElement),B=function(e){return I?E.createElement(e):{}},D=!l&&!s((function(){return 7!=Object.defineProperty(B("div"),"a",{get:function(){return 7}}).a})),L=l,G=f,J=w,F=O,q=C,R=x,W=D,H=Object.getOwnPropertyDescriptor;u.f=L?H:function(e,t){if(e=F(e),t=q(t,!0),W)try{return H(e,t)}catch(e){}if(R(e,t))return J(!G.f.call(e,t),e[t])};var z={},V=_,K=function(e){if(!V(e))throw TypeError(String(e)+" is not an object");return e},U=l,Y=D,$=K,X=C,Z=Object.defineProperty;z.f=U?Z:function(e,t,n){if($(e),t=X(t,!0),$(n),Y)try{return Z(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Q=z,ee=w,te=l?function(e,t,n){return Q.f(e,t,ee(1,n))}:function(e,t,n){return e[t]=n,e},ne={exports:{}},re=c,oe=te,ie=function(e,t){try{oe(re,e,t)}catch(n){re[e]=t}return t},ae=ie,ce="__core-js_shared__",ue=c[ce]||ae(ce,{}),se=ue,le=Function.toString;"function"!=typeof se.inspectSource&&(se.inspectSource=function(e){return le.call(e)});var fe=se.inspectSource,de=fe,pe=c.WeakMap,me="function"==typeof pe&&/native code/.test(de(pe)),we={exports:{}},ge=ue;(we.exports=function(e,t){return ge[e]||(ge[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.14.0",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var ve,be,he,ye=0,Se=Math.random(),ke=we.exports,Oe=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++ye+Se).toString(36)},_e=ke("keys"),Me={},Ce=me,Te=_,je=te,Ne=x,Pe=ue,xe=function(e){return _e[e]||(_e[e]=Oe(e))},Ae=Me,Ee="Object already initialized",Ie=c.WeakMap;if(Ce||Pe.state){var Be=Pe.state||(Pe.state=new Ie),De=Be.get,Le=Be.has,Ge=Be.set;ve=function(e,t){if(Le.call(Be,e))throw new TypeError(Ee);return t.facade=e,Ge.call(Be,e,t),t},be=function(e){return De.call(Be,e)||{}},he=function(e){return Le.call(Be,e)}}else{var Je=xe("state");Ae[Je]=!0,ve=function(e,t){if(Ne(e,Je))throw new TypeError(Ee);return t.facade=e,je(e,Je,t),t},be=function(e){return Ne(e,Je)?e[Je]:{}},he=function(e){return Ne(e,Je)}}var Fe={set:ve,get:be,has:he,enforce:function(e){return he(e)?be(e):ve(e,{})},getterFor:function(e){return function(t){var n;if(!Te(t)||(n=be(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},qe=c,Re=te,We=x,He=ie,ze=fe,Ve=Fe.get,Ke=Fe.enforce,Ue=String(String).split("String");(ne.exports=function(e,t,n,r){var o,i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof t||We(n,"name")||Re(n,"name",t),(o=Ke(n)).source||(o.source=Ue.join("string"==typeof t?t:""))),e!==qe?(i?!c&&e[t]&&(a=!0):delete e[t],a?e[t]=n:Re(e,t,n)):a?e[t]=n:He(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&Ve(this).source||ze(this)}));var Ye=c,$e=Ye,Xe=c,Ze=function(e){return"function"==typeof e?e:void 0},Qe={},et=Math.ceil,tt=Math.floor,nt=function(e){return isNaN(e=+e)?0:(e>0?tt:et)(e)},rt=nt,ot=Math.min,it=nt,at=Math.max,ct=Math.min,ut=O,st=function(e){return e>0?ot(rt(e),9007199254740991):0},lt=function(e,t){var n=it(e);return n<0?at(n+t,0):ct(n,t)},ft=function(e){return function(t,n,r){var o,i=ut(t),a=st(i.length),c=lt(r,a);if(e&&n!=n){for(;a>c;)if((o=i[c++])!=o)return!0}else for(;a>c;c++)if((e||c in i)&&i[c]===n)return e||c||0;return!e&&-1}},dt={includes:ft(!0),indexOf:ft(!1)},pt=x,mt=O,wt=dt.indexOf,gt=Me,vt=function(e,t){var n,r=mt(e),o=0,i=[];for(n in r)!pt(gt,n)&&pt(r,n)&&i.push(n);for(;t.length>o;)pt(r,n=t[o++])&&(~wt(i,n)||i.push(n));return i},bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ht=vt,yt=bt.concat("length","prototype");Qe.f=Object.getOwnPropertyNames||function(e){return ht(e,yt)};var St={};St.f=Object.getOwnPropertySymbols;var kt=Qe,Ot=St,_t=K,Mt=function(e,t){return arguments.length<2?Ze($e[e])||Ze(Xe[e]):$e[e]&&$e[e][t]||Xe[e]&&Xe[e][t]}("Reflect","ownKeys")||function(e){var t=kt.f(_t(e)),n=Ot.f;return n?t.concat(n(e)):t},Ct=x,Tt=Mt,jt=u,Nt=z,Pt=s,xt=/#|\.prototype\./,At=function(e,t){var n=It[Et(e)];return n==Dt||n!=Bt&&("function"==typeof t?Pt(t):!!t)},Et=At.normalize=function(e){return String(e).replace(xt,".").toLowerCase()},It=At.data={},Bt=At.NATIVE="N",Dt=At.POLYFILL="P",Lt=At,Gt=c,Jt=u.f,Ft=te,qt=ne.exports,Rt=ie,Wt=function(e,t){for(var n=Tt(t),r=Nt.f,o=jt.f,i=0;i<n.length;i++){var a=n[i];Ct(e,a)||r(e,a,o(t,a))}},Ht=Lt,zt=vt,Vt=bt,Kt=Object.keys||function(e){return zt(e,Vt)},Ut=l,Yt=s,$t=Kt,Xt=St,Zt=f,Qt=j,en=h,tn=Object.assign,nn=Object.defineProperty,rn=!tn||Yt((function(){if(Ut&&1!==tn({b:1},tn(nn({},"a",{enumerable:!0,get:function(){nn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=tn({},e)[n]||$t(tn({},t)).join("")!=r}))?function(e,t){for(var n=Qt(e),r=arguments.length,o=1,i=Xt.f,a=Zt.f;r>o;)for(var c,u=en(arguments[o++]),s=i?$t(u).concat(i(u)):$t(u),l=s.length,f=0;l>f;)c=s[f++],Ut&&!a.call(u,c)||(n[c]=u[c]);return n}:tn;(function(e,t){var n,r,o,i,a,c=e.target,u=e.global,s=e.stat;if(n=u?Gt:s?Gt[c]||Rt(c,{}):(Gt[c]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(a=Jt(n,r))&&a.value:n[r],!Ht(u?r:c+(s?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Wt(i,o)}(e.sham||o&&o.sham)&&Ft(i,"sham",!0),qt(n,r,i,e)}})({target:"Object",stat:!0,forced:Object.assign!==rn},{assign:rn}),Ye.Object.assign;var on=["AdsBot-Google","AdsBot-Google-Mobile","Googlebot","Storebot-Google","APIs-Google","Mediapartners-Google","FeedFetcher-Google","Google-Read-Aloud","DuplexWeb-Google","Google Favicon","googleweblight","Pinterestbot","AhrefsSiteAudit","AhrefsBot","Seekport Crawler","DuckDuckBot","PingdomPageSpeed","pingbot","YandexAccessibilityBot","adidxbot","bingbot","SMTBot","HubSpot Crawler","e.ventures Investment Crawler","Cincraw","Facebot","Twitterbot","Jooblebot","YisouSpider","YandexMetrika","Applebot","PagePeeker","Linespider","proximic","Algolia Crawler Renderscript","PetalBot","SEOFeedback_WebCrawler","oBot","Impact Radius Compliance Bot","Cocolyzebot","nlnbot","SemrushBot-SA","Bytespider","RyteBot","BrandVeritySpider","ethical-bugbot","Screaming Frog SEO Spider","BublupBot","bitlybot","Better Uptime Bot","KargoBot-Artemis-Mobile","YandexVideoParser","DotBot","BLEXBot","CheckMarkNetwork","MegaIndex.ru","Baiduspider","SurdotlyBot","Taboolabot","SiteScoreBot","StatusCake_Pagespeed_Indev","www.facebook.com/externalhit_uatext.php","+http://yandex.com/bots","YandexBot","LinkedInBot","+https://intelx.io","+https://www.seokicks.de/robot.html","SEOkicks;","ZoominfoBot","BingPreview","Morningscore","heritrix","http://tech.quickpay.net/api/callback","CookieInformationScanner","MJ12bot","KlarnaBot-PriceWatcher","HeadlessChrome","Barkrowler","Chrome-Lighthouse","https://vendorcentral.amazon.com/support/amazonproductbot"],an=["ts","etid"],cn=["ts","cua","url"],un=["ts","cua","url"],sn=function(e,t){if(window.profitMetrics&&window.profitMetrics.debugMode){var n=["color: #fff","background-color: #08083D","padding: 2px 4px","border-radius: 2px"].join(";");console.log("%cProfitMetrics debug log:",n),console.log(e),t&&console.log(t)}},ln=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===Number(o.indexOf(t)))return o.substring(t.length,o.length)}return null},fn=function(e,t,n){var r="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires=".concat(o.toUTCString())}var i="".concat(e,"=").concat(t||"").concat(r,"; path=/");if(window.profitMetrics&&window.profitMetrics.cookieDomain){var a=window.profitMetrics.cookieDomain;i="".concat(e,"=").concat(t||"").concat(r,"; domain=").concat(a,";path=/")}document.cookie=i},dn=function(e){var t=new RegExp("[?&]".concat(e,"=([^&#]*)")).exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},pn=function(e,t){var n=e,r=["url","referer","ts","cua","cc_statistics","cc_marketing"];return Object.keys(e).forEach((function(o){r.includes(o)||(e[o]?n[o]=e[o]:t&&t[o]&&(n[o]=t[o]))})),n},mn=function(e,t){var n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,o)}),t)}},wn=function(e,t){var n=ln("pmStorage");if(null!==n){var r=JSON.parse(n);r[e]=t,fn("pmStorage",JSON.stringify(r),9999)}},gn=function(e){var t=ln("pmStorage");if(null===t)return null;var n=JSON.parse(t);return n&&n[e]?n[e]:null},vn=function(e){var t=sessionStorage.getItem("pmTempStorage");if(null===t)return null;var n=JSON.parse(t);return n&&n[e]?n[e]:null},bn=function(e,t){var n=sessionStorage.getItem("pmTempStorage");if(null!==n){var r=JSON.parse(n);r[e]=t,sessionStorage.setItem("pmTempStorage",JSON.stringify(r))}else{var o={};o[e]=t,sessionStorage.setItem("pmTempStorage",JSON.stringify(o))}},hn=function(){return!(!window.profitMetrics||!window.profitMetrics.cookieStatisticsConsent)||(!window.profitMetrics||!1!==window.profitMetrics.cookieStatisticsConsent)&&(void 0!==window.CookieInformation?!!window.CookieInformation.getConsentGivenFor("cookie_cat_statistic"):window.Cookiebot?!!(window.Cookiebot&&window.Cookiebot.consent&&window.Cookiebot.consent.statistics):"function"==typeof window.cookies_allowed?window.cookies_allowed("statistics"):!window.platform||!window.platform.consent||"boolean"!=typeof window.platform.consent.STATISTICS||window.platform.consent.STATISTICS)},yn=function(){return!(!window.profitMetrics||!window.profitMetrics.cookieMarketingConsent)||(!window.profitMetrics||!1!==window.profitMetrics.cookieMarketingConsent)&&(window.CookieInformation?!!window.CookieInformation.getConsentGivenFor("cookie_cat_marketing"):window.Cookiebot?!!(window.Cookiebot&&window.Cookiebot.consent&&window.Cookiebot.consent.marketing):"function"==typeof window.cookies_allowed?window.cookies_allowed("marketing"):!window.platform||!window.platform.consent||"boolean"!=typeof window.platform.consent.MARKETING||window.platform.consent.MARKETING)},Sn=function(){var e=ln("_fbc")||null,t=dn("fbclid")||null;if(!e&&t){var n=Math.floor(Date.now()/1e3);return"fb.".concat(1,".").concat(n,".").concat(t)}return e||null},kn=function(){if(window.ga&&"function"==typeof window.ga.getAll){if(window.ga.getAll()&&window.ga.getAll().length)return{id:window.ga.getAll()[0].get("clientId"),source:"gatracker"}}else if(ln("_ga"))return{id:ln("_ga"),source:"gacookie"};return{id:null,source:null}},On=function(){var e=document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.startsWith("_ga_")})).map((function(e){var t=e.indexOf("=");if(-1===t)return null;var n=e.substring(4,t),r=e.substring(t+1),o=null;if(r.startsWith("GS2.")){var i=r.split(".");if(i.length>=3){var a=i[2].split("$").find((function(e){return e.startsWith("o")}));a&&(o=a.substring(1))}}else if(r.startsWith("GS1.")){var c=r.split(".");c.length>=4&&(o=c[3])}return o?"".concat(n,":").concat(o):null})).filter(Boolean).join(",");return e&&e.length>0?e:null},_n="universal",Mn=function(e){var n=function(e){return{etid:gn("etid")||null,pid:window.profitMetrics&&window.profitMetrics.pid?window.profitMetrics.pid:null,url:e?"".concat(window.location.protocol,"//").concat(window.location.hostname):window.location.href,referer:document.referrer.includes(window.location.hostname)?null:document.referrer,cc_statistics:hn(),cc_marketing:yn(),gacid:kn().id,gacid_source:kn().source,uid:window.profitMetrics&&window.profitMetrics.GA4MeasurementId&&"function"==typeof window.gtag?window.gtag("get",window.profitMetrics.GA4MeasurementId,"user_id",(function(e){return e})):null,gclid:dn("gclid")||null,fbp:ln("_fbp")||null,fbc:Sn(),cua:navigator.userAgent,ts:Date.now()/1e3,cip:"0.0.0.0",gbraid:dn("gbraid"),wbraid:dn("wbraid"),ga4SessionId:(t=document.cookie.split(";").map((function(e){return e.trim()})).filter((function(e){return e.startsWith("_ga_")})).map((function(e){var t=e.indexOf("=");if(-1===t)return null;var n=e.substring(4,t),r=e.substring(t+1),o=null;if(r.startsWith("GS2.")){var i=r.split(".");if(i.length>=3){var a=i[2].split("$").find((function(e){return e.startsWith("s")}));a&&(o=a.substring(1))}}else if(r.startsWith("GS1.")){var c=r.split(".");c.length>=3&&(o=c[2])}return o?"".concat(n,":").concat(o):null})).filter(Boolean).join(","),t&&t.length>0?t:null),ga4SessionNumber:On()};var t}(e);e&&(n.referer=null);var r=function(){var e=vn("em");e||(e=gn("em"));var t={em_md5:null,em_sha256:null,em:null};if(null!==e)e=e.trim().toLowerCase(),t.em=e,"modern".includes("hashing")&&(t.em_sha256=(new Hashes.SHA256).hex(e),t.em_md5=(new Hashes.MD5).hex(e));else{var n=vn("em_md5"),r=vn("em_sha256");n||(n=gn("em_md5")),r||(r=gn("em_sha256")),t.em_md5=n,t.em_sha256=r}return t}(),i=function(e){var t=sessionStorage.getItem("pmTempStorage"),n=ln("pmStorage");null===n&&(n=ln("pmTrackingStorage"));var r={},o={};try{o=JSON.parse(t),r=JSON.parse(n)}catch(t){return sn("Invalid JSON stored in ProfitMetrics session storage",t),e}var i=pn(e,r);if(o){var a=pn(e,o);return pn(i,a)}return i}(t(t({},n),r));!function(e){var t,n=((t=e).ts,t.cua,t.url,o(t,cn)),r=sessionStorage.getItem("pmTempStorage"),i={};if(r)try{i=JSON.parse(r)}catch(e){sn("Invalid JSON stored in session storage: pmTempStorage",e)}var a=pn(n,i);sessionStorage.setItem("pmTempStorage",JSON.stringify(a))}(i),yn()||(i.gclid=null,i.fbc=null),hn()||(i.gacid=null,i.gacid_source=null,i.uid=null,i.fbp=null,i.em=null,i.em_md5=null,i.em_sha256=null),function(e){var t,n=((t=e).ts,t.cua,t.url,o(t,un));fn("pmStorage",JSON.stringify(n),9999)}(i);return"modern".includes("hashing")&&(i.em=null),i},Cn=function(e,t){var n;if(function(e){var t=e.map((function(e){return(t=e).ts,t.etid,o(t,an);var t})).map((function(e){var t=e;return"identify"===t.event_name&&(t.url=""),t})),n=JSON.stringify(t),r=(new Date).toString(),i=sessionStorage.getItem("pmTrackingSession"),a={};i&&(a=JSON.parse(i));var c=!1;if(a&&a.expiresAt&&Date.parse(r)<Date.parse(a.expiresAt)){if(a.data.includes(n))return!0;c=!0}var u=c?a.data:[],s=new Date,l=s.setMinutes(s.getMinutes()+15);u.push(n);var f={expiresAt:c?a.expiresAt:new Date(l).toString(),data:u};return sessionStorage.setItem("pmTrackingSession",JSON.stringify(f)),!1}(e))sn("The event data has already been submitted. Aborting submit to server.");else if(n=!1,e.forEach((function(e){if("addtocart"===e.event_name){var t=e.event_data;t.qty&&t.qty>0&&t.sku&&t.price>0&&t.name&&(n=!0)}"pageview"===e.event_name&&"category"===e.event_data.type&&(e.event_data.name||(sn("Category page view has no name, aborting tracking"),n=!0)),"pageview"===e.event_name&&"product"===e.event_data.type&&(e.event_data.id&&e.event_data.name||(sn("Product page view has no name, aborting tracking"),n=!0))})),!n)if(e=e.map((function(e){return[e]})),window.profitMetrics.debugMode)sn("The following payload was ready for submit:",e);else{var r="".concat("b1ec028e64acb3cfa7d4678ee9450469b0b3eaa6\n","-").concat(!1,"-").concat("modern","-").concat("universal"),i=new XMLHttpRequest,a="https://my.profitmetrics.io/ev.php?v=1&ipfromclient=true&cv=".concat(r),c=JSON.stringify(e);i.open("POST",a,!0),i.setRequestHeader("Content-type","text/plain; charset=UTF-8"),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var e=JSON.parse(i.responseText);if(!t.etid&&e.data[0]&&e.data[0].data[0].success&&e.data[0].data[0].data.etid){var n=e.data[0].data[0].data.etid;wn("etid",n)}}},i.send(c)}},Tn=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=[],i=Mn(r),a=i.em_md5||i.em_sha256,c=a||i.em,u=_n.includes("universal")||_n.includes("coop");if(!u||c){if(Array.isArray(e))e.forEach((function(e){o.push(t({event_name:e.eventName,event_data:e.eventData},i))}));else{if("object"!==n(e))return;o.push(t({event_name:e.eventName,event_data:e.eventData},i))}Cn(o,i)}},jn=function(e){Tn({eventName:"pageview",eventData:{type:"category",name:e}})},Nn=function(e,t){Tn({eventName:"pageview",eventData:{type:"product",id:e,name:t}})},Pn=function(){Tn({eventName:"pageview",eventData:{type:"generic"}})},xn=function(){Tn({eventName:"pageview",eventData:{type:"generic"}},!0)},An=function(){Tn({eventName:"identify",eventData:null})},En=function(e){if(e){var t=[];Array.isArray(e)?t=e.map((function(e){return{eventName:"addtocart",eventData:{sku:e.id,name:e.name,qty:Number(e.quantity),unitprice:Number(e.price)}}})):t.push({eventName:"addtocart",eventData:{sku:e.id,name:e.name,qty:Number(e.quantity),unitprice:Number(e.price)}}),Tn(t)}},In=function(e){var t=new RegExp(/^.+@.+\..+$/i);""!==e&&t.test(e)&&(bn("em",e.trim().toLowerCase()),wn("em_md5",null),wn("em_sha256",null),bn("em_md5",null),bn("em_sha256",null),An())},Bn=function(e,t){e&&t?(bn("em",null),wn("em",null),bn("em_md5",e.trim()),bn("em_sha256",t.trim()),An()):console.error("Please provide md5 and sha256 hashed email")};function Dn(){var e='#UserName, #BillingAddress_Email, #email, .newsletter-signup-input, input[name="email"], input[name="UserName"], input[type="email"], input[autocomplete="email"], input[name="checkout_username"], #m-userlogin-username, #checkout_customer_email, #checkoutEmail';return window.profitMetrics&&window.profitMetrics.emailInputSelector&&(e+=", ".concat(window.profitMetrics.emailInputSelector)),e}var Ln,Gn=function(e){var t=new RegExp(/^.+@.+\..+$/i);e?(e.addEventListener("input",(function(){var n=e.value;""!==n&&t.test(n)&&(bn("em",n.trim().toLowerCase()),wn("em_md5",null),wn("em_sha256",null),bn("em_md5",null),bn("em_sha256",null))})),e.addEventListener("input",mn((function(){var n=e.value;""!==n&&t.test(n)&&(sn("Stored email: ",n.trim().toLowerCase()),An())}),2e3))):function(){for(var e=document.querySelectorAll(Dn()),n=function(n){var r=e[n].value;r&&t.test(r)&&(sn("Found an email on the page: ",r.trim().toLowerCase()),bn("em",r.trim().toLowerCase()),wn("em_md5",null),wn("em_sha256",null),bn("em_md5",null),bn("em_sha256",null),An()),e[n].addEventListener("input",(function(){var r=e[n].value;""!==r&&t.test(r)&&(bn("em",r.trim().toLowerCase()),wn("em_md5",null),wn("em_sha256",null),bn("em_md5",null),bn("em_sha256",null))})),e[n].addEventListener("input",mn((function(){var r=e[n].value;""!==r&&t.test(r)&&(sn("Stored email: ",r.trim().toLowerCase()),An())}),2e3))},r=0;r<e.length;r++)n(r)}()},Jn=function(){Tn({eventName:"pageview",eventData:{type:"generic"}},!0),window.profitMetrics&&!window.profitMetrics.disableEmailTracking&&(new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){if(e&&e.parentNode){var t=e.parentNode.querySelectorAll(Dn());t&&t.length&&t.forEach((function(e){Gn(e)}))}}))}))})).observe(document.body,{childList:!0,subtree:!0}),Gn())};window.profitMetrics&&window.profitMetrics.pid?(Ln=navigator.userAgent.toLowerCase(),on.some((function(e){return Ln.indexOf(e.toLowerCase())>=0}))||(function(){if(window.profitMetrics=window.profitMetrics||{},window.profitMetrics.setHashedEmail=Bn,window.profitMetrics.setEmail=In,window.profitMetrics.pageViewCategory=jn,window.profitMetrics.pageViewProduct=Nn,window.profitMetrics.pageViewGeneric=Pn,window.profitMetrics.addToCart=En,window.profitMetrics.pageViewParamsOnly=xn,setTimeout((function(){var e=document.querySelector("[data-pm-order-email]");if(e){var t,n=null===(t=e.dataset)||void 0===t?void 0:t.pmOrderEmail;n&&In(n)}}),700),setTimeout((function(){window.scoApi&&"function"==typeof scoApi.observeEvent&&window.scoApi.observeEvent("identity.email",(function(e){In(e.value)}))}),2e3),window.profitMetrics.enableKlarnaTracking&&window.profitMetrics.checkoutPath&&(window.profitMetrics.checkoutPath===window.location.pathname||"includes"===window.profitMetrics.pathMatchMode&&window.location.pathname.includes(window.profitMetrics.checkoutPath)))var e=setInterval((function(){window._klarnaCheckout&&(clearInterval(e),window._klarnaCheckout((function(e){e.on({change:function(e){e&&e.email&&In(e.email.toLowerCase())}})})))}),500)}(),setTimeout((function(){Jn(),window.profitMetrics&&"function"==typeof window.profitMetrics.onLoad&&window.profitMetrics.onLoad()}),500))):sn("No pid set in configuration values - aborting tracking")}();
